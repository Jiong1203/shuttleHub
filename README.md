# ğŸ¸ ShuttleHub - ç¾½çƒé–‹åœ˜èˆ‡å ±åå¹³å°

ShuttleHub æ˜¯ä¸€å€‹å°ˆç‚ºç¾½çƒæ„›å¥½è€…è¨­è¨ˆçš„æ´»å‹•é–‹åœ˜èˆ‡å ±åç¶²ç«™ã€‚ç„¡è«–æ‚¨æ˜¯æƒ³å°‹æ‰¾çƒå‹åˆ‡ç£‹çƒæŠ€ï¼Œé‚„æ˜¯ç†±å¿ƒçš„ä¸»è¾¦è€…æƒ³è¦èˆ‰è¾¦æ´»å‹•ï¼ŒShuttleHub éƒ½èƒ½æ»¿è¶³æ‚¨çš„éœ€æ±‚ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ä½¿ç”¨è€…åŠŸèƒ½

- **ğŸ” ä½¿ç”¨è€…èªè­‰ç³»çµ±**
  - è¨»å†Šæ–°å¸³è™Ÿï¼ˆé è¨­ç‚ºæœƒå“¡è§’è‰²ï¼‰
  - ç™»å…¥/ç™»å‡ºåŠŸèƒ½
  - JWT Token èªè­‰æ©Ÿåˆ¶
  - è‡ªå‹• Token åˆ·æ–°èˆ‡éæœŸè™•ç†

- **ğŸ‘¤ è§’è‰²ç®¡ç†**
  - **æœƒå“¡ (MEMBER)**: å¯ç€è¦½æ´»å‹•ã€å ±ååƒåŠ 
  - **åœ˜é•· (ORGANIZER)**: å¯å»ºç«‹ã€ç·¨è¼¯ã€åˆªé™¤æ´»å‹•ï¼Œç®¡ç†å ±å
  - **ç®¡ç†å“¡ (ADMIN)**: å®Œæ•´ç®¡ç†æ¬Šé™ï¼Œå¯å¯©æ ¸åœ˜é•·ç”³è«‹

- **ğŸ“‹ æ´»å‹•ç€è¦½**
  - æŸ¥çœ‹æ‰€æœ‰å³å°‡åˆ°ä¾†çš„ç¾½çƒæ´»å‹•
  - å¡ç‰‡å¼è¨­è¨ˆï¼Œæ¸…æ™°å‘ˆç¾æ™‚é–“ã€åœ°é»ã€è²»ç”¨ç­‰é—œéµè³‡è¨Š
  - æ´»å‹•è©³æƒ…é é¢é¡¯ç¤ºå®Œæ•´è³‡è¨Šèˆ‡å ±åç‹€æ³
  - æ”¯æ´åˆ†é è¼‰å…¥

- **ğŸ“ å ±åç³»çµ±**
  - æŸ¥çœ‹æ´»å‹•è©³æƒ…ä¸¦å ±ååƒåŠ 
  - å³æ™‚é¡¯ç¤ºç›®å‰å ±åç‹€æ³ (å·²å ±åäººæ•¸/åé¡ä¸Šé™)
  - è‡ªå‹•å€™è£œåŠŸèƒ½ï¼ˆäººæ•¸è¶…éä¸Šé™æ™‚è‡ªå‹•è½‰ç‚ºå€™è£œï¼‰
  - æ”¯æ´å¤šäººå ±åï¼ˆå¯æŒ‡å®šå ±åäººæ•¸ï¼‰
  - æŸ¥çœ‹æˆ‘çš„å ±åç´€éŒ„
  - å–æ¶ˆå ±ååŠŸèƒ½

### åœ˜é•·åŠŸèƒ½

- **ğŸ¸ æ´»å‹•ç®¡ç†**
  - å»ºç«‹æ–°æ´»å‹•ï¼ˆè¨­å®šæ¨™é¡Œã€æè¿°ã€æ—¥æœŸã€æ™‚é–“ã€åœ°é»ã€è²»ç”¨ã€äººæ•¸ä¸Šé™ï¼‰
  - ç·¨è¼¯è‡ªå·±å»ºç«‹çš„æ´»å‹•
  - åˆªé™¤è‡ªå·±å»ºç«‹çš„æ´»å‹•
  - æŸ¥çœ‹æˆ‘çš„æ´»å‹•åˆ—è¡¨
  - æŸ¥çœ‹æ´»å‹•å ±åäººå“¡åå–®

### ç®¡ç†å“¡åŠŸèƒ½

- **âš™ï¸ ç³»çµ±ç®¡ç†**
  - å¯©æ ¸åœ˜é•·ç”³è«‹ï¼ˆç›®å‰ç‚ºå‰ç«¯æ¨¡æ“¬åŠŸèƒ½ï¼‰
  - ç®¡ç†æ‰€æœ‰æ´»å‹•èˆ‡ä½¿ç”¨è€…

## ğŸ—ï¸ å°ˆæ¡ˆæ¶æ§‹

### æ•´é«”æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ (Vue 3)   â”‚
â”‚  - Vue Router   â”‚
â”‚  - Pinia Store  â”‚
â”‚  - Axios API    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTP/REST API
         â”‚ (JWT Token)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¾Œç«¯ (Express)   â”‚
â”‚  - Controllers  â”‚
â”‚  - Services     â”‚
â”‚  - Middleware   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Prisma ORM
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL     â”‚
â”‚  (Supabase)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è³‡æ–™æµç¨‹

1. **ä½¿ç”¨è€…èªè­‰æµç¨‹**

   ```
   ä½¿ç”¨è€…ç™»å…¥ â†’ å‰ç«¯ç™¼é€è«‹æ±‚ â†’ å¾Œç«¯é©—è­‰ â†’ ç”Ÿæˆ JWT Token
   â†’ å„²å­˜ Token â†’ å¾ŒçºŒè«‹æ±‚è‡ªå‹•é™„åŠ  Token
   ```

2. **æ´»å‹•ç®¡ç†æµç¨‹**

   ```
   å»ºç«‹æ´»å‹• â†’ å‰ç«¯è¡¨å–®é©—è­‰ â†’ API è«‹æ±‚ â†’ å¾Œç«¯æ¬Šé™æª¢æŸ¥
   â†’ è³‡æ–™åº«å„²å­˜ â†’ è¿”å›æ´»å‹•è³‡æ–™ â†’ æ›´æ–°å‰ç«¯ç‹€æ…‹
   ```

3. **å ±åæµç¨‹**
   ```
   å ±åæ´»å‹• â†’ API è«‹æ±‚ â†’ æª¢æŸ¥åé¡ â†’ è¨ˆç®—å ±åç‹€æ…‹
   â†’ å„²å­˜å ±åè³‡æ–™ â†’ è¿”å›å ±åçµæœ â†’ æ›´æ–° UI
   ```

## ğŸ› ï¸ æŠ€è¡“å †ç–Š

### å‰ç«¯

- **æ¡†æ¶**: [Vue 3](https://vuejs.org/) (Composition API + Script Setup)
- **å»ºç½®å·¥å…·**: [Vite](https://vitejs.dev/) 7.x
- **ç‹€æ…‹ç®¡ç†**: [Pinia](https://pinia.vuejs.org/) 3.x
- **è·¯ç”±ç®¡ç†**: [Vue Router](https://router.vuejs.org/) 4.x
- **HTTP å®¢æˆ¶ç«¯**: [Axios](https://axios-http.com/) 1.x
- **æ¨£å¼**: Vanilla CSS (æ­é… CSS Variables å¯¦ä½œè¨­è¨ˆç³»çµ±)
- **èªè¨€**: TypeScript 5.x
- **é–‹ç™¼å·¥å…·**: ESLint + Prettier

### å¾Œç«¯

- **åŸ·è¡Œç’°å¢ƒ**: Node.js (å»ºè­° v18+)
- **æ¡†æ¶**: [Express.js](https://expressjs.com/) 5.x
- **è³‡æ–™åº«**: PostgreSQL (Supabase)
- **ORM**: [Prisma](https://www.prisma.io/) 5.x
- **èªè­‰**: JWT (JSON Web Token)
- **å¯†ç¢¼åŠ å¯†**: bcrypt
- **èªè¨€**: TypeScript 5.x
- **é–‹ç™¼å·¥å…·**: ts-node, nodemon

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- Node.js (å»ºè­° v18+)
- npm

### æ­¥é©Ÿä¸€ï¼šå®‰è£ä¾è³´

#### 1. å®‰è£å‰ç«¯ä¾è³´

```sh
npm install
```

#### 2. å®‰è£å¾Œç«¯ä¾è³´

```sh
cd backend
npm install
```

### æ­¥é©ŸäºŒï¼šè¨­å®šç’°å¢ƒè®Šæ•¸

#### æœ¬åœ°é–‹ç™¼ç’°å¢ƒ

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å‰µå»º `.env` æ–‡ä»¶ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ï¼š

```env
VITE_API_URL=http://localhost:3001/api
```

#### ç”Ÿç”¢ç’°å¢ƒï¼ˆVercel éƒ¨ç½²ï¼‰

##### å‰ç«¯ç’°å¢ƒè®Šæ•¸

åœ¨**å‰ç«¯ Vercel å°ˆæ¡ˆ**è¨­ç½®ä¸­æ·»åŠ ç’°å¢ƒè®Šæ•¸ï¼š

1. é€²å…¥ Vercel å°ˆæ¡ˆ Dashboardï¼ˆå‰ç«¯å°ˆæ¡ˆï¼‰
2. é»æ“Š **Settings** â†’ **Environment Variables**
3. æ·»åŠ ä»¥ä¸‹ç’°å¢ƒè®Šæ•¸ï¼š
   - **Name**: `VITE_API_URL`
   - **Value**: æ‚¨çš„å¾Œç«¯ API URLï¼ˆä¾‹å¦‚ï¼š`https://your-backend-api.vercel.app/api`ï¼‰
   - **Environment**: é¸æ“‡ `Production`ã€`Preview` å’Œ `Development`ï¼ˆæ ¹æ“šéœ€è¦ï¼‰

##### å¾Œç«¯ç’°å¢ƒè®Šæ•¸

åœ¨**å¾Œç«¯ Vercel å°ˆæ¡ˆ**è¨­ç½®ä¸­æ·»åŠ ç’°å¢ƒè®Šæ•¸ï¼ˆè©³ç´°èªªæ˜è«‹åƒè€ƒ `backend/ENV_SETUP.md`ï¼‰ï¼š

**å¿…éœ€ç’°å¢ƒè®Šæ•¸ï¼š**

- `DATABASE_URL` - Supabase PostgreSQL é€£æ¥å­—ä¸²
- `DIRECT_URL` - Supabase ç›´æ¥é€£æ¥å­—ä¸²ï¼ˆé€šå¸¸èˆ‡ DATABASE_URL ç›¸åŒï¼‰
- `JWT_SECRET` - JWT ç°½ç½²å¯†é‘°ï¼ˆè«‹ä½¿ç”¨å¼·å¯†é‘°ï¼‰
- `FRONTEND_URL` - å‰ç«¯ URLï¼ˆä¾‹å¦‚ï¼š`https://shuttle-hub.vercel.app`ï¼‰

**å¯é¸ç’°å¢ƒè®Šæ•¸ï¼š**

- `JWT_EXPIRES_IN` - Token éæœŸæ™‚é–“ï¼ˆé è¨­ï¼š`7d`ï¼‰

> **æ³¨æ„**:
>
> - å‰ç«¯ç’°å¢ƒè®Šæ•¸å¿…é ˆä»¥ `VITE_` é–‹é ­æ‰èƒ½åœ¨ Vite ä¸­ä½¿ç”¨
> - å¾Œç«¯éƒ¨ç½²èªªæ˜è«‹åƒè€ƒ `backend/VERCEL_DEPLOYMENT.md`
> - ç’°å¢ƒè®Šæ•¸è¨­å®šæŒ‡å—è«‹åƒè€ƒ `backend/ENV_SETUP.md`

### æ­¥é©Ÿä¸‰ï¼šå•Ÿå‹•å°ˆæ¡ˆ

#### 1. å•Ÿå‹•å¾Œç«¯ä¼ºæœå™¨

åœ¨ `backend` ç›®éŒ„ä¸‹åŸ·è¡Œï¼š

```sh
npm run dev
```

å¾Œç«¯ä¼ºæœå™¨å°‡é‹è¡Œæ–¼ `http://localhost:3001`

#### 2. å•Ÿå‹•å‰ç«¯é–‹ç™¼ä¼ºæœå™¨

å›åˆ°å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œï¼š

```sh
npm run dev
```

å‰ç«¯æ‡‰ç”¨å°‡é‹è¡Œæ–¼ `http://localhost:5173`

### æ­¥é©Ÿå››ï¼šè³‡æ–™åº«è¨­å®š

#### 1. è¨­å®šè³‡æ–™åº«é€£ç·š

åœ¨ `backend` ç›®éŒ„ä¸‹å‰µå»º `.env` æ–‡ä»¶ï¼š

```env
# è³‡æ–™åº«é€£ç·šï¼ˆSupabase æˆ–æœ¬åœ° PostgreSQLï¼‰
DATABASE_URL="postgresql://user:password@host:5432/database"
DIRECT_URL="postgresql://user:password@host:5432/database"

# JWT è¨­å®š
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_EXPIRES_IN="7d"

# ä¼ºæœå™¨è¨­å®š
PORT=3001
NODE_ENV="development"

# CORS è¨­å®š
FRONTEND_URL="http://localhost:5173"
```

#### 2. åŸ·è¡Œè³‡æ–™åº«é·ç§»

```sh
cd backend
npx prisma migrate dev
npx prisma generate
```

#### 3. ï¼ˆå¯é¸ï¼‰å»ºç«‹æ¸¬è©¦è³‡æ–™

```sh
npx ts-node prisma/seed.ts
```

### æ­¥é©Ÿäº”ï¼šé–‹å§‹ä½¿ç”¨

é–‹å•Ÿç€è¦½å™¨è¨ªå• `http://localhost:5173`

#### æ¸¬è©¦å¸³è™Ÿ

å¦‚æœå·²åŸ·è¡Œ seed è…³æœ¬ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ¸¬è©¦å¸³è™Ÿï¼š

| è§’è‰²   | Email                | å¯†ç¢¼         | æ¬Šé™                   |
| ------ | -------------------- | ------------ | ---------------------- |
| ç®¡ç†å“¡ | admin@shuttlehub.com | admin123     | å®Œæ•´ç®¡ç†æ¬Šé™           |
| åœ˜é•·   | organizer@test.com   | organizer123 | å¯å»ºç«‹ã€ç·¨è¼¯ã€åˆªé™¤æ´»å‹• |
| æœƒå“¡   | member@test.com      | member123    | å¯å ±åæ´»å‹•             |

> **æ³¨æ„**: å¦‚æœå°šæœªå»ºç«‹æ¸¬è©¦è³‡æ–™ï¼Œè«‹å…ˆè¨»å†Šæ–°å¸³è™Ÿæˆ–åŸ·è¡Œ seed è…³æœ¬

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
shuttleHub/
â”œâ”€â”€ backend/                      # å¾Œç«¯å°ˆæ¡ˆ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/         # æ§åˆ¶å™¨ï¼ˆè™•ç† HTTP è«‹æ±‚ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ authController.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ eventController.ts
â”‚   â”‚   â”‚   â””â”€â”€ registrationController.ts
â”‚   â”‚   â”œâ”€â”€ middleware/          # ä¸­ä»‹å±¤
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts          # JWT èªè­‰ä¸­ä»‹å±¤
â”‚   â”‚   â”‚   â””â”€â”€ authorize.ts    # è§’è‰²æˆæ¬Šä¸­ä»‹å±¤
â”‚   â”‚   â”œâ”€â”€ routes/              # API è·¯ç”±å®šç¾©
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ events.ts
â”‚   â”‚   â”‚   â””â”€â”€ registrations.ts
â”‚   â”‚   â”œâ”€â”€ services/            # æ¥­å‹™é‚è¼¯å±¤
â”‚   â”‚   â”‚   â”œâ”€â”€ authService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ eventService.ts
â”‚   â”‚   â”‚   â””â”€â”€ registrationService.ts
â”‚   â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ jwt.ts           # JWT ç”Ÿæˆèˆ‡é©—è­‰
â”‚   â”‚   â”‚   â””â”€â”€ password.ts      # å¯†ç¢¼åŠ å¯†èˆ‡é©—è­‰
â”‚   â”‚   â””â”€â”€ index.ts              # Express æ‡‰ç”¨ç¨‹å¼å…¥å£
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ schema.prisma        # Prisma è³‡æ–™æ¨¡å‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ migrations/          # è³‡æ–™åº«é·ç§»æª”æ¡ˆ
â”‚   â”‚   â””â”€â”€ seed.ts              # æ¸¬è©¦è³‡æ–™ç¨®å­æª”æ¡ˆ
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â””â”€â”€ vercel.json              # Vercel éƒ¨ç½²é…ç½®
â”‚
â”œâ”€â”€ src/                          # å‰ç«¯å°ˆæ¡ˆ
â”‚   â”œâ”€â”€ views/                   # é é¢è¦–åœ–å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ auth/                # èªè­‰ç›¸é—œé é¢
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginView.vue
â”‚   â”‚   â”‚   â””â”€â”€ RegisterView.vue
â”‚   â”‚   â”œâ”€â”€ events/              # æ´»å‹•ç›¸é—œé é¢
â”‚   â”‚   â”‚   â”œâ”€â”€ EventListView.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ EventDetailView.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ EventCreateView.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ EventManageView.vue
â”‚   â”‚   â”‚   â””â”€â”€ EventParticipantsView.vue
â”‚   â”‚   â”œâ”€â”€ profile/             # å€‹äººè³‡æ–™é é¢
â”‚   â”‚   â”‚   â””â”€â”€ ProfileView.vue
â”‚   â”‚   â”œâ”€â”€ admin/               # ç®¡ç†å“¡é é¢
â”‚   â”‚   â”‚   â””â”€â”€ ApplicationsView.vue
â”‚   â”‚   â”œâ”€â”€ HomeView.vue
â”‚   â”‚   â””â”€â”€ AboutView.vue
â”‚   â”œâ”€â”€ components/              # å¯é‡ç”¨ UI å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ TheNavbar.vue        # å°èˆªåˆ—
â”‚   â”‚   â”œâ”€â”€ AppButton.vue        # æŒ‰éˆ•å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ AppCard.vue          # å¡ç‰‡å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ AppInput.vue         # è¼¸å…¥æ¡†å…ƒä»¶
â”‚   â”‚   â””â”€â”€ TimeSelect.vue       # æ™‚é–“é¸æ“‡å™¨
â”‚   â”œâ”€â”€ stores/                  # Pinia ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ authStore.ts         # èªè­‰ç‹€æ…‹
â”‚   â”‚   â”œâ”€â”€ eventStore.ts        # æ´»å‹•ç‹€æ…‹
â”‚   â”‚   â””â”€â”€ counter.ts           # ç¯„ä¾‹ Store
â”‚   â”œâ”€â”€ services/                # API æœå‹™å±¤
â”‚   â”‚   â””â”€â”€ api.ts               # Axios å¯¦ä¾‹èˆ‡æ””æˆªå™¨
â”‚   â”œâ”€â”€ router/                   # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts             # Vue Router è¨­å®šèˆ‡å®ˆè¡›
â”‚   â”œâ”€â”€ data/                    # éœæ…‹è³‡æ–™
â”‚   â”‚   â””â”€â”€ venues.ts            # å ´åœ°è³‡è¨Š
â”‚   â”œâ”€â”€ assets/                  # éœæ…‹è³‡æº
â”‚   â”‚   â”œâ”€â”€ base.css
â”‚   â”‚   â”œâ”€â”€ main.css
â”‚   â”‚   â””â”€â”€ logo.svg
â”‚   â”œâ”€â”€ App.vue                  # æ ¹å…ƒä»¶
â”‚   â””â”€â”€ main.ts                  # æ‡‰ç”¨ç¨‹å¼å…¥å£
â”‚
â”œâ”€â”€ doc/                          # å°ˆæ¡ˆæ–‡ä»¶
â”‚   â””â”€â”€ walkthrough.md           # åŠŸèƒ½å±•ç¤ºèˆ‡æ“ä½œæµç¨‹
â”‚
â”œâ”€â”€ package.json                  # å‰ç«¯ä¾è³´èˆ‡è…³æœ¬
â”œâ”€â”€ vite.config.ts                # Vite é…ç½®
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”œâ”€â”€ README.md                     # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
â”œâ”€â”€ DEVELOPMENT_STATUS.md         # é–‹ç™¼ç‹€æ…‹ç¸½è¦½
â””â”€â”€ backend-design-proposal.md    # å¾Œç«¯è¨­è¨ˆææ¡ˆ
```

## ğŸ”§ å…¶ä»–æŒ‡ä»¤

### å‰ç«¯

```sh
# å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
npm run build

# é è¦½ç”Ÿç”¢ç‰ˆæœ¬
npm run preview

# ç¨‹å¼ç¢¼æª¢æŸ¥
npm run lint

# ç¨‹å¼ç¢¼æ ¼å¼åŒ–
npm run format
```

### å¾Œç«¯

```sh
# å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
npm run build

# åŸ·è¡Œç”Ÿç”¢ç‰ˆæœ¬
npm run start

# Prisma ç›¸é—œ
npx prisma studio          # é–‹å•Ÿè³‡æ–™åº«ç®¡ç†ä»‹é¢
npx prisma migrate dev     # åŸ·è¡Œè³‡æ–™åº«é·ç§»
npx ts-node prisma/seed.ts # é‡æ–°å»ºç«‹æ¸¬è©¦è³‡æ–™
```

## ğŸ“ API æ–‡ä»¶

### èªè­‰ API

#### `POST /api/auth/register`

è¨»å†Šæ–°ä½¿ç”¨è€…

**è«‹æ±‚é«”ï¼š**

```json
{
  "email": "user@example.com",
  "password": "password123",
  "name": "ä½¿ç”¨è€…åç¨±"
}
```

**å›æ‡‰ï¼š**

```json
{
  "success": true,
  "data": {
    "user": {
      "id": "uuid",
      "email": "user@example.com",
      "name": "ä½¿ç”¨è€…åç¨±",
      "role": "MEMBER"
    },
    "token": "jwt_token"
  }
}
```

#### `POST /api/auth/login`

ä½¿ç”¨è€…ç™»å…¥

**è«‹æ±‚é«”ï¼š**

```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

**å›æ‡‰ï¼š**

```json
{
  "success": true,
  "data": {
    "user": { ... },
    "token": "jwt_token"
  }
}
```

### æ´»å‹• API

#### `GET /api/events`

å–å¾—æ´»å‹•åˆ—è¡¨ï¼ˆæ”¯æ´åˆ†é ï¼‰

**æŸ¥è©¢åƒæ•¸ï¼š**

- `page` (å¯é¸): é ç¢¼ï¼Œé è¨­ 1
- `limit` (å¯é¸): æ¯é æ•¸é‡ï¼Œé è¨­ 10

**å›æ‡‰ï¼š**

```json
{
  "success": true,
  "data": {
    "events": [...],
    "pagination": {
      "total": 100,
      "page": 1,
      "limit": 10,
      "totalPages": 10
    }
  }
}
```

#### `GET /api/events/:id`

å–å¾—æ´»å‹•è©³æƒ…ï¼ˆåŒ…å«å ±åè³‡è¨Šï¼‰

#### `POST /api/events` ğŸ”’

å»ºç«‹æ´»å‹•ï¼ˆéœ€è¦ ORGANIZER æˆ– ADMIN è§’è‰²ï¼‰

**è«‹æ±‚é«”ï¼š**

```json
{
  "title": "æ´»å‹•æ¨™é¡Œ",
  "description": "æ´»å‹•æè¿°",
  "date": "2025-12-01",
  "startTime": "18:00",
  "endTime": "20:00",
  "location": "æ´»å‹•åœ°é»",
  "price": 200,
  "maxAttendees": 20
}
```

#### `PUT /api/events/:id` ğŸ”’

æ›´æ–°æ´»å‹•ï¼ˆåƒ…ä¸»è¾¦äººæˆ–ç®¡ç†å“¡å¯æ›´æ–°ï¼‰

#### `DELETE /api/events/:id` ğŸ”’

åˆªé™¤æ´»å‹•ï¼ˆåƒ…ä¸»è¾¦äººæˆ–ç®¡ç†å“¡å¯åˆªé™¤ï¼‰

### å ±å API

#### `POST /api/events/:eventId/register` ğŸ”’

å ±åæ´»å‹•

**è«‹æ±‚é«”ï¼š**

```json
{
  "participantName": "åƒèˆ‡è€…å§“å",
  "numberOfPeople": 1
}
```

**å›æ‡‰ï¼š**

```json
{
  "success": true,
  "data": {
    "id": 1,
    "eventId": 1,
    "userId": "uuid",
    "participantName": "åƒèˆ‡è€…å§“å",
    "numberOfPeople": 1,
    "status": "CONFIRMED" // æˆ– "WAITLISTED"
  }
}
```

#### `DELETE /api/registrations/:id` ğŸ”’

å–æ¶ˆå ±å

#### `GET /api/registrations/me` ğŸ”’

æŸ¥è©¢æˆ‘çš„å ±åç´€éŒ„

**å›æ‡‰ï¼š**

```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "eventId": 1,
      "event": { ... },
      "participantName": "åƒèˆ‡è€…å§“å",
      "numberOfPeople": 1,
      "status": "CONFIRMED"
    }
  ]
}
```

### å¥åº·æª¢æŸ¥

#### `GET /health`

ä¼ºæœå™¨å¥åº·æª¢æŸ¥

**å›æ‡‰ï¼š**

```json
{
  "status": "ok",
  "timestamp": "2025-11-29T12:00:00.000Z"
}
```

ğŸ”’ = éœ€è¦ç™»å…¥èªè­‰ï¼ˆåœ¨è«‹æ±‚æ¨™é ­ä¸­é™„åŠ  `Authorization: Bearer <token>`ï¼‰

## ï¿½ é–‹ç™¼æ–‡ä»¶

- [åŠŸèƒ½å±•ç¤ºèˆ‡æ“ä½œæµç¨‹](./doc/walkthrough.md)
- [å¾Œç«¯è¨­è¨ˆææ¡ˆ](./backend-design-proposal.md)
- [é–‹ç™¼ç‹€æ…‹ç¸½è¦½](./DEVELOPMENT_STATUS.md)

## ğŸ¯ åŠŸèƒ½ç‰¹è‰²

### å·²å¯¦ç¾åŠŸèƒ½

- âœ… **å®Œæ•´çš„ä½¿ç”¨è€…èªè­‰ç³»çµ±**
  - JWT Token èªè­‰æ©Ÿåˆ¶
  - è‡ªå‹• Token é™„åŠ èˆ‡éæœŸè™•ç†
  - å¯†ç¢¼ bcrypt åŠ å¯†å„²å­˜

- âœ… **è§’è‰²æ¬Šé™ç®¡ç†**
  - ä¸‰ç¨®è§’è‰²ï¼šæœƒå“¡ (MEMBER)ã€åœ˜é•· (ORGANIZER)ã€ç®¡ç†å“¡ (ADMIN)
  - è·¯ç”±å®ˆè¡›ä¿è­·ï¼ˆå‰ç«¯ + å¾Œç«¯ï¼‰
  - åŸºæ–¼è§’è‰²çš„åŠŸèƒ½å­˜å–æ§åˆ¶

- âœ… **æ´»å‹•ç®¡ç†ç³»çµ±**
  - æ´»å‹• CRUD æ“ä½œï¼ˆå»ºç«‹ã€è®€å–ã€æ›´æ–°ã€åˆªé™¤ï¼‰
  - æ´»å‹•åˆ—è¡¨åˆ†é è¼‰å…¥
  - æ´»å‹•è©³æƒ…é é¢
  - ä¸»è¾¦è€…æ´»å‹•ç®¡ç†ä»‹é¢

- âœ… **å ±åç³»çµ±**
  - æ´»å‹•å ±ååŠŸèƒ½
  - è‡ªå‹•å€™è£œæ©Ÿåˆ¶ï¼ˆäººæ•¸è¶…éä¸Šé™æ™‚ï¼‰
  - å ±åç‹€æ…‹ç®¡ç†ï¼ˆå·²ç¢ºèª/å€™è£œï¼‰
  - æ”¯æ´å¤šäººå ±å
  - å ±åç´€éŒ„æŸ¥è©¢

- âœ… **ä½¿ç”¨è€…é«”é©—**
  - éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œæ”¯æ´å„ç¨®è£ç½®
  - è¼‰å…¥ç‹€æ…‹èˆ‡éŒ¯èª¤è™•ç†
  - ç›´è¦ºçš„ä½¿ç”¨è€…ä»‹é¢
  - å ´åœ°è³‡è¨Šé è¨­é¸é …ï¼ˆé«˜é›„åœ°å€ç¾½çƒé¤¨ï¼‰

- âœ… **æŠ€è¡“æ¶æ§‹**
  - å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹
  - RESTful API è¨­è¨ˆ
  - TypeScript å‹åˆ¥å®‰å…¨
  - Prisma ORM è³‡æ–™åº«ç®¡ç†
  - é›²ç«¯è³‡æ–™åº«ï¼ˆSupabase PostgreSQLï¼‰

### è³‡æ–™åº«æ¨¡å‹

**Userï¼ˆä½¿ç”¨è€…ï¼‰**

- `id`: UUID (ä¸»éµ)
- `email`: å”¯ä¸€ä¿¡ç®±
- `password`: bcrypt åŠ å¯†å¯†ç¢¼
- `name`: ä½¿ç”¨è€…åç¨±
- `role`: è§’è‰² (MEMBER/ORGANIZER/ADMIN)
- `createdAt`, `updatedAt`: æ™‚é–“æˆ³è¨˜

**Eventï¼ˆæ´»å‹•ï¼‰**

- `id`: è‡ªå‹•éå¢æ•´æ•¸ (ä¸»éµ)
- `title`: æ´»å‹•æ¨™é¡Œ
- `description`: æ´»å‹•æè¿°
- `date`: æ´»å‹•æ—¥æœŸ
- `startTime`, `endTime`: æ´»å‹•æ™‚é–“ (HH:mm æ ¼å¼)
- `location`: æ´»å‹•åœ°é»
- `price`: è²»ç”¨ï¼ˆå…ƒï¼‰
- `maxAttendees`: äººæ•¸ä¸Šé™
- `organizerId`: ä¸»è¾¦è€… ID (å¤–éµ)
- `createdAt`, `updatedAt`: æ™‚é–“æˆ³è¨˜

**Registrationï¼ˆå ±åï¼‰**

- `id`: è‡ªå‹•éå¢æ•´æ•¸ (ä¸»éµ)
- `participantName`: åƒèˆ‡è€…å§“å
- `numberOfPeople`: å ±åäººæ•¸
- `status`: å ±åç‹€æ…‹ (CONFIRMED/WAITLISTED)
- `userId`: ä½¿ç”¨è€… ID (å¤–éµ)
- `eventId`: æ´»å‹• ID (å¤–éµ)
- `createdAt`, `updatedAt`: æ™‚é–“æˆ³è¨˜
- å”¯ä¸€ç´„æŸï¼šåŒä¸€ä½¿ç”¨è€…å°åŒä¸€æ´»å‹•åªèƒ½å ±åä¸€æ¬¡

## ğŸ¤ è²¢ç»

æ­¡è¿æäº¤ Issue æˆ– Pull Requestï¼

## ğŸ—ºï¸ å‰ç«¯è·¯ç”±

| è·¯å¾‘                       | åç¨±               | å…ƒä»¶                  | æ¬Šé™è¦æ±‚               |
| -------------------------- | ------------------ | --------------------- | ---------------------- |
| `/`                        | home               | HomeView              | å…¬é–‹                   |
| `/login`                   | login              | LoginView             | è¨ªå®¢ï¼ˆå·²ç™»å…¥æœƒé‡å°å‘ï¼‰ |
| `/register`                | register           | RegisterView          | è¨ªå®¢ï¼ˆå·²ç™»å…¥æœƒé‡å°å‘ï¼‰ |
| `/events`                  | events             | EventListView         | å…¬é–‹                   |
| `/events/:id`              | event-detail       | EventDetailView       | å…¬é–‹                   |
| `/events/create`           | event-create       | EventCreateView       | ç™»å…¥ + åœ˜é•·/ç®¡ç†å“¡     |
| `/events/manage`           | event-manage       | EventManageView       | ç™»å…¥ + åœ˜é•·/ç®¡ç†å“¡     |
| `/events/:id/participants` | event-participants | EventParticipantsView | ç™»å…¥ + åœ˜é•·/ç®¡ç†å“¡     |
| `/profile`                 | profile            | ProfileView           | ç™»å…¥                   |
| `/admin/applications`      | admin-applications | ApplicationsView      | ç™»å…¥ + ç®¡ç†å“¡          |

## ğŸ”’ å®‰å…¨æ€§

### èªè­‰æ©Ÿåˆ¶

- JWT Token å„²å­˜åœ¨ `localStorage`
- Token è‡ªå‹•é™„åŠ åˆ°æ‰€æœ‰ API è«‹æ±‚
- Token éæœŸæ™‚è‡ªå‹•æ¸…é™¤ä¸¦é‡å°å‘ç™»å…¥é 

### æ¬Šé™æ§åˆ¶

- **å‰ç«¯è·¯ç”±å®ˆè¡›**: æª¢æŸ¥ä½¿ç”¨è€…èªè­‰ç‹€æ…‹èˆ‡è§’è‰²
- **å¾Œç«¯ä¸­ä»‹å±¤**: é©—è­‰ JWT Token èˆ‡è§’è‰²æ¬Šé™
- **è³‡æ–™å±¤é©—è­‰**: ç¢ºä¿ä½¿ç”¨è€…åªèƒ½æ“ä½œè‡ªå·±çš„è³‡æº

### å¯†ç¢¼å®‰å…¨

- ä½¿ç”¨ bcrypt é€²è¡Œå¯†ç¢¼é›œæ¹Š
- å¯†ç¢¼ä¸æœƒå„²å­˜åœ¨å‰ç«¯
- å¯†ç¢¼ä¸æœƒåœ¨ API å›æ‡‰ä¸­è¿”å›

## ğŸš€ éƒ¨ç½²

### Vercel éƒ¨ç½²

å°ˆæ¡ˆå·²é…ç½®æ”¯æ´ Vercel éƒ¨ç½²ï¼š

1. **å‰ç«¯éƒ¨ç½²**
   - é€£æ¥åˆ° GitHub å€‰åº«
   - è¨­å®šç’°å¢ƒè®Šæ•¸ `VITE_API_URL` ç‚ºå¾Œç«¯ API URL
   - è‡ªå‹•å»ºç½®èˆ‡éƒ¨ç½²

2. **å¾Œç«¯éƒ¨ç½²**
   - ä½¿ç”¨ Vercel Serverless Functions
   - è¨­å®šç’°å¢ƒè®Šæ•¸ï¼ˆåƒè€ƒ `backend/ENV_SETUP.md`ï¼‰
   - åŸ·è¡Œ Prisma é·ç§»èˆ‡ç”Ÿæˆ

è©³ç´°éƒ¨ç½²èªªæ˜è«‹åƒè€ƒï¼š

- `backend/VERCEL_DEPLOYMENT.md` - å¾Œç«¯éƒ¨ç½²æŒ‡å—
- `backend/ENV_SETUP.md` - ç’°å¢ƒè®Šæ•¸è¨­å®šæŒ‡å—

## ğŸ› ç–‘é›£æ’è§£

### å¸¸è¦‹å•é¡Œ

1. **å¾Œç«¯ç„¡æ³•é€£ç·šè³‡æ–™åº«**
   - ç¢ºèª PostgreSQL æœå‹™é‹è¡Œä¸­
   - æª¢æŸ¥ `.env` ä¸­çš„ `DATABASE_URL` æ˜¯å¦æ­£ç¢º
   - åŸ·è¡Œ `npx prisma generate` ç”Ÿæˆ Prisma Client

2. **å‰ç«¯ API è«‹æ±‚å¤±æ•—**
   - ç¢ºèª `VITE_API_URL` ç’°å¢ƒè®Šæ•¸è¨­å®šæ­£ç¢º
   - æª¢æŸ¥å¾Œç«¯ä¼ºæœå™¨æ˜¯å¦é‹è¡Œ
   - æŸ¥çœ‹ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤è¨Šæ¯

3. **Token é©—è­‰å¤±æ•—**
   - ç¢ºèª `JWT_SECRET` ç’°å¢ƒè®Šæ•¸è¨­å®šæ­£ç¢º
   - æª¢æŸ¥ Token æ˜¯å¦éæœŸ
   - æ¸…é™¤ localStorage ä¸¦é‡æ–°ç™»å…¥

æ›´å¤šç–‘é›£æ’è§£è³‡è¨Šè«‹åƒè€ƒï¼š

- `backend/TROUBLESHOOTING.md` - å¾Œç«¯ç–‘é›£æ’è§£
- `backend/QUICK_FIX.md` - å¿«é€Ÿä¿®å¾©æŒ‡å—

## ğŸ“Š é–‹ç™¼ç‹€æ…‹

è©³ç´°çš„é–‹ç™¼ç‹€æ…‹èˆ‡å¾…è¾¦äº‹é …è«‹åƒè€ƒ [DEVELOPMENT_STATUS.md](./DEVELOPMENT_STATUS.md)

**ç•¶å‰é€²åº¦ï¼š**

- âœ… å¾Œç«¯ API é–‹ç™¼å®Œæˆ
- âœ… å‰ç«¯æ•´åˆå®Œæˆ
- âœ… èªè­‰ç³»çµ±å®Œæˆ
- âœ… æ´»å‹•ç®¡ç†å®Œæˆ
- âœ… å ±åç³»çµ±å®Œæˆ
- â³ è³‡æ–™åº«éƒ¨ç½²ï¼ˆå¾…åŸ·è¡Œ Prisma é·ç§»ï¼‰
- â³ å®Œæ•´åŠŸèƒ½æ¸¬è©¦

## ğŸ“„ æˆæ¬Š

MIT License
